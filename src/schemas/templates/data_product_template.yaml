# Data Product Specification Template
# Generated by Agentic Data Product Builder

data_product:
  # Metadata
  metadata:
    name: "data_product_name"  # snake_case
    version: "1.0.0"           # semantic version
    description: "Description of what this Data Product provides"
    owner: "team_name"
    created_at: "2025-12-07T00:00:00Z"  # ISO 8601 format
    tags:
      - "tag1"
      - "tag2"

  # Business Context
  business_context:
    use_case: "A1"  # A1, A2, B3, C2, or custom
    business_metrics:
      - "metric1"
      - "metric2"
    dimensions:
      - "dimension1"
      - "dimension2"
    temporal_granularity: "daily"  # hourly, daily, weekly, monthly, yearly, snapshot
    stakeholders:
      - "analytics_team"
      - "business_users"

  # Data Model
  data_model:
    target_table: "gold.table_name"
    grain: "Description of data granularity"
    schema:
      - name: "column1"
        type: "VARCHAR(100)"
        nullable: false
        primary_key: true
        description: "Column description"
      - name: "column2"
        type: "INTEGER"
        nullable: true
        primary_key: false
        description: "Column description"
    primary_keys:
      - "column1"
    constraints: []  # Optional

  # Source Datasets
  source_datasets:
    - name: "bronze.dataset1"
      columns:
        - "column1"
        - "column2"
      alias: "d1"
      join_type: "inner"  # inner, left, right, full
      join_condition: "d1.id = d2.id"

  # Transformations
  transformations:
    language: "SQL"  # SQL, PySpark, Python
    code: |
      SELECT
        column1,
        column2
      FROM source_table
    parameters: {}  # Optional
    dependencies: []  # Optional

  # Quality Rules
  quality_rules:
    - rule: "column1 IS NOT NULL"
      rule_type: "completeness"
      severity: "error"  # error, warning, info
      column: "column1"
      description: "Column must not be null"
    - rule: "column2 > 0"
      rule_type: "validity"
      severity: "warning"
      threshold: 0.95
      description: "Column should be positive"

  # SLA Requirements
  sla:
    freshness: "Daily at 6:00 AM UTC"
    latency: "< 30 minutes"
    completeness: "> 99%"
    availability: "99.9% uptime"

  # Lineage
  lineage:
    source_datasets:
      - "bronze.dataset1"
    transformations_applied:
      - "aggregation"
      - "join"
    dependencies: []

  # Documentation (Optional)
  documentation:
    usage_examples:
      - "Example query 1"
      - "Example query 2"
    known_limitations:
      - "Limitation 1"
    change_log:
      - version: "1.0.0"
        date: "2025-12-07"
        changes: "Initial version"

